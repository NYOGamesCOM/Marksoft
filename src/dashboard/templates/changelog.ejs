<%- include("partials/head", { bot, user, path, description, title: "Marksoft - Latest Commits",  url, image }) %>

<div>
  <!-- Your changelog code here -->
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Marksoft Bot Dashboard - Latest Commits</title>
    <style>
      /* Styles for the Marksoft bot dashboard */
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #202225;
        color: #ffffff;
      }

      header, footer {
        background-color: #2f3136;
        color: #ffffff;
        text-align: center;
        padding: 10px 0;
      }

      main {
        padding: 20px;
      }

      h1, h2 {
        margin-block-start: 0;
        color: #ffffff;
      }

      .content-section {
        background-color: #36393f;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-block-end: 20px;
        max-inline-size: 600px;
        margin: 0 auto;
      }

      .content-section p {
        margin-block-end: 10px;
        font-size: 16px;
        color: #ffffff;
      }

      .content-section a {
        color: #7289da;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Marksoft Bot Dashboard - Latest Commits</h1>
    </header>
    
    <main>
      <section id="commit-details" class="content-section">
        <!-- Commit details will be populated dynamically -->
      </section>
    </main>
  
  
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const apiUrl = 'https://api.github.com/repos/NYOGamesCEO/Marksoft/commits?per_page=25';
    
        fetch(apiUrl)
          .then(response => {
            console.log('Response:', response); // Log the raw response
            if (!response.ok) {
              throw new Error(`Network response was not ok: ${response.status} ${response.statusText}`);
            }
            return response.json();
          })
          .then(data => {
            console.log('Data:', data); // Log the parsed data
            const commitDetailsSection = document.getElementById('commit-details');
            if (data.length > 0) {
              const latestCommit = data[0];
              const commitDetails = `
                <h2>${latestCommit.commit.message}</h2>
                <p>Commit by: ${latestCommit.commit.author.name}</p>
                <p>Commit date: ${new Date(latestCommit.commit.author.date).toLocaleString()}</p>
                <p>SHA: <a href="${latestCommit.html_url}" target="_blank">${latestCommit.sha}</a></p>
              `;
              commitDetailsSection.innerHTML = commitDetails;
            } else {
              commitDetailsSection.innerHTML = '<p>No commits found.</p>';
            }
          })
          .catch(error => {
            console.error('Error fetching commits:', error);
            document.getElementById('commit-details').innerHTML = `<p>Error fetching commits: ${error.message}</p>`;
          });
      });
    </script>
    
    
  </body>
  </html>
  <!-- End of your changelog code -->

</div>

<%- include("partials/mainfooter") %>
<%- include("partials/footer") %>
